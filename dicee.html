<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Dicee Game</title>
  <link rel="shortcut icon" href="images/dice6.png" type="image/x-icon">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css?family=Indie+Flower|Lobster" rel="stylesheet">
</head>

<body>

  <div class="container mt-5">
    <h1>Refresh Me</h1>

    <div class="dice">
      <p id="player1">Player 1 <span class="badge text-bg-success">0</span></p>
      <img class="img1" src="">
    </div>

    <div class="dice">
      <p id="player2">Player 2 <span class="badge text-bg-success">0</span></p>
      <img class="img2" src="">
    </div>

    <p id="draw">Draw <span class="badge text-bg-warning">0</span></p>

  </div>

  <footer class="mt-3">
    <div class="buttons mx-auto">
      <button class="btn btn-danger" onclick="resetCount()">Reset Count</button>
      <button class="btn btn-primary" onclick="reloadPage()">Roll Again</button>
    </div>
    <p class="mt-3">🎲 UTHMAN KHAN <a href="https://ca.linkedin.com/in/uthman-khan-linke" target="_blank">👔 linkedin</a> 🎲</p>
  </footer>

  <script>
    // Retrieve stored scores or set to 0 if not found
    let player1Count = parseInt(localStorage.getItem("player1Count")) || 0;
    let player2Count = parseInt(localStorage.getItem("player2Count")) || 0;
    let drawCount = parseInt(localStorage.getItem("drawCount")) || 0;

    // Generate random dice rolls
    let i = Math.ceil(Math.random() * 6);
    let j = Math.ceil(Math.random() * 6);

    // Determine the winner and update counts
    if (i > j) {
      document.querySelector('.container h1').textContent = '🎉 Player 1 Wins!';
      player1Count++;
      localStorage.setItem("player1Count", player1Count);
    } else if (i < j) {
      document.querySelector('.container h1').textContent = '🎉 Player 2 Wins!';
      player2Count++;
      localStorage.setItem("player2Count", player2Count);
    } else {
      document.querySelector('.container h1').textContent = '🤝 It\'s a Draw!';
      drawCount++;
      localStorage.setItem("drawCount", drawCount);
    }

    // Update the displayed dice images
    document.querySelector('.img1').setAttribute('src', `images/dice${i}.png`);
    document.querySelector('.img2').setAttribute('src', `images/dice${j}.png`);

    // Update the score display
    document.querySelector('#player1 span').textContent = player1Count;
    document.querySelector('#player2 span').textContent = player2Count;
    document.querySelector('#draw span').textContent = drawCount;

    // Reload the page to play again
    function reloadPage() {
      location.reload();
    }

    // Reset all scores
    function resetCount() {
      localStorage.setItem("player1Count", 0);
      localStorage.setItem("player2Count", 0);
      localStorage.setItem("drawCount", 0);
      reloadPage();
    }
  </script>

</body>

</html>
